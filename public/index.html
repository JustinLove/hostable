<!DOCTYPE HTML>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Hostable</title>
  <!--link href="style.css" rel="stylesheet" /-->
  <script type="text/javascript" src="hostable.js"></script>
</head>

<body>
</body>

<script type="text/javascript">
  var app = Elm.Hostable.fullscreen()

  app.ports.select.subscribe(function(id) {
    var el = document.getElementById(id)
    el.focus()
    el.select()
    try {
      if (!document.execCommand('copy')) {
        console.warn("copy failed")
      }
    } catch (err) {
      console.error("copy threw", err)
    }
  })

  var key = 'hostable'

  app.ports.save.subscribe(function(value) {
    localStorage.setItem(key, value)
  })

  var loaded = localStorage.getItem(key)
  app.ports.loaded.send(loaded)
</script>

</html>

